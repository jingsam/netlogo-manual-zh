<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Netlogo用户指南 HubNet</title>
</head>
<link rel="stylesheet" href="netlogo.css" type="text/css">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
  <h1>
      NetLogo 5.0 用户手册： 教学#2: 命令
</h1>
    <div class="version">
      NetLogo 5.0 用户手册&nbsp;&nbsp;&nbsp;
    </div>


<body>
<h1>
      教学# 2: 命令(Tutorial #2:Commands)
    </h1>
    <div class="version">
      NetLogo 5.0 用户手册&nbsp;&nbsp;&nbsp;
    </div>
    <p>
      在教学#1,你有机会查看了一些 NetLogo 模型,我们引导你打开、运行模型、按下按钮、 改变滑动条和开关值,以及使用绘图和监视器从模型收集信息。
    <p>
      在这一部分,焦点从观察模型转换到操纵模型。你将开始看模型的内部运转,能够改变它们的样子。
    <h2>
      模型实例: 基本交通模型(Traffic Basic)
    </h2>
    <blockquote>
      <ul>
        <li>到模型库去 (File 菜单)。
        <li>在"Social Science"部分,找到并打开 Traffic Basic。
        <li>运行模型两分钟,感受一下。
        <li>如果有什么问题,去信息标签页查查。
        </ul>
    </blockquote>
    <p>
      在这个模型里,你会注意到一系列蓝车里有一辆红车,车流同向移动。这些车时不时的 会挤成一堆,无法移动。这是关于幽灵式阻塞的模型,即有时交通流会出现阻塞,但却找不 到任何明显的原因,例如事故、断桥、侧翻的卡车等。要形成交通阻塞,没有“明显原因” (centralized cause)是需要的。
    <p>
      你可以改变配置运行几次,对模型有个全面理解。
    
    <blockquote>
      <p class="question">
        当你使用这个 Traffic Basic 模型时,有没有注意到需要给模型增加什么?
      </blockquote>
    <p>
      看看这个模型,你会注意到环境太简单了,就是黑色背景、白色街道、一些蓝车和一辆
红车。需要对模型做点改变:改变车的形状和颜色、加上房子或路灯、新建信号灯、或者再 创建一条车道。这些建议有些是装饰性的,只是改善模型的观感,另外一些是行为性的。在 本教程里我们主要关注较简单的、装饰性的改变。 (<a href="tutorial3.html">教程 #3</a>入介绍行为性改变,那需要 在 Procedures 页面中进行修改。)
    <p>
      我们使用命令中心做这些简单改变。
    <h2>
      命令中心(The Command Center)
    </h2>
    <p>
      命令中心位于Interface Tab页,在这里你可以向模型发出命令或指令。命令就是你可以 发给NetLogo主体(海龟、瓦片、链、观察者)的指示。 
    <blockquote>
      <p>
        在 Traffic Basic 中:
      <ul>
        <li>按下"setup" 按钮
        <li>找到命令中心
        <li>在命令中心底部的白框里按一下鼠标
        <li>￼输入下面所示文本：
        </ul>
      <p class="screenshot">
        <img alt="screen shot" src="images/tutorial2/image001.gif">
      <ul>
        <li>按回车键。
        </ul>
      <p class="question">
        视图发生什么变化？
      <p>
        你注意到视图背景变成了黄色,街道消失了。
      <p class="question">
        为什么车没有变成黄色?
      <p>
        回头看看刚才输入的命令,我们只是请求瓦片改变颜色。在这个模型里,车辆用另外一
种称为”海龟”的主体表示。因此车辆并没有接收指令,也就没有改变。
      <p class="question">
        命令中心发生了什么?
      <p>
你可能没注意到你刚才输入的命令现在显示在命令中心的中间部分白框里,就像下面这样:
      <p class="screenshot">
        <img alt="screen shot" src=
        "images/tutorial2/commandcenterhistory.gif">
      <ul>
        <li>在命令中心底部的白框中输入下面的文本:
        </ul>
      <p class="screenshot">
        <img alt="screen shot" src="images/tutorial2/image002.gif">
      <p class="question">
        结果和你想的一样吗?
      <p>
        视图里是黄色背景,中间是一串灰色的车:
      <p class="screenshot">
        <img alt="screen shot" width="90%" src=
        "images/tutorial2/image003.gif">
      </blockquote>
    <p>
      NetLogo是由海龟、瓦片和观察者组成的二维世界。瓦片构成背景,海龟在背景上移动, 观察者(observer)是观察着所有事情的一个主体。(关于世界的细节,参考 NetLogo编程指南  <a href=
      "programming.html">NetLogo Programming Guide</a>。)
    <p>
      在命令中心,我们可以给海龟、瓦片和观察者发出命令。我们通过命令中心左下角的弹 出式菜单进行选择,也可以用 Tab 键在选项之间循环。
    <blockquote>
      <ul>
        <li>在命令中心,单击左下角的"observer>":
        </ul>
      <p class="screenshot">
        <img alt="screen shot" src="images/tutorial2/image004.gif">
      <ul>
        <li>在弹出菜单中选 "turtles"
        <li>输入<tt>set color pink</tt> 回车。
        <li>按下 tab 键直到在左下角看到"patches>"。
        <li>输入<tt>set pcolor white</tt>回车。
        </ul>
      <p class="question">
        现在视图看起来怎么样?
      <p class="question">
       你注意到这两条命令和前面的 observer 命令的区别了吗?
      </blockquote>
    <p>
      观察者(observer)俯视着世界,因此使用<a href=
      "dictionary.html#ask"><tt>ask</tt></a>向瓦片或海龟发出命令。正如第一个例
子那样(observer> ask patches [set pcolor yellow]),observer必须请求(ask)瓦片把 它的颜色pcolor设为黄色。但在第二个例子中,命令直接发给了一组主体(patches> set pcolor white),你只需直接给出命令。 
    <blockquote>
      <ul>
        <li>按下"setup"。
        </ul>
      <p class="question">
        发生什么?
      </blockquote>
    <p>
      为什么视图变回了原样,还是黑背景白路?因为按下"setup"后,模型重新按例程页中 的内容配置模型。命令中心一般不用来对模型做永久性修改,而是用来对当前模型进行定制, 让你能操纵模型,回答探究模型时冒出来的“what if”问题。(例程页(Procedures tab) 在下个教学里解释,也可参考编程指南 <a href=
      "programming.html">Programming Guide</a>。)
    <p>
      我们已熟悉了命令中心,再看看 NetLogo 中关于颜色的一些细节。
    <h2>
      操纵颜色
    </h2>
    <p>
     你可能注意到在上面我们使用了两个不同的词来改变颜色: <a href=
      "dictionary.html#color"><tt>color</tt></a> 和<a href=
      "dictionary.html#pcolor"><tt>pcolor</tt></a>。
    <blockquote>
      <p class="question">
        color 与 pcolor 有何区别?
      <ul>
        <li>在命令中心的弹出菜单中选 "turtles" (或使用 tab 键)。
        <li>输入<tt>set color blue</tt> 回车。
        </ul>
      <p class="question">
     车辆发生什么变化?
      <p>
        思考一下你做了什么让车变成了蓝色,试试把瓦片变成红色。
      <p>
     如果想让瓦片变成红色,出现一条错误信息:
      <p class="screenshot">
        <img alt="screen shot" src="images/tutorial2/image005.gif">
      <ul>
        <li>输入 <tt>set pcolor red</tt>回车。
        </ul>
    </blockquote>
    <p>
      <a href="dictionary.html#color"><tt>color</tt></a> 和
      <a href="dictionary.html#pcolor"><tt>pcolor</tt></a>
      是变量(variables)。有些命令和变量是海龟专用的,有些是瓦片专用
的。例如, <a href=
      "dictionary.html#color"><tt>color</tt></a> 是一个海龟变量,而 <a href=
      "dictionary.html#pcolor"><tt>pcolor</tt></a> 是一个瓦片变量。
    <p>
    继续尝试,使用 <a href="dictionary.html#set"><tt>set</tt></a> 命令和这两个变量改变海龟和瓦片颜色。
    <p>
      为了能对海龟和瓦片做更多的颜色改变,也就是车辆和背景,我们需要了解 NetLogo 如何处理颜色。
      <!--<p align=center style='text-align:center'><img alt="screen shot"   
src="images/tutorial2/image006.jpg">-->
    <p>
      在 NetLogo 所有颜色对应一个数值。在这些练习里我们使用了颜色名,只是因为 NetLogo 认识16个不同的颜色名。这并不意味NetLogo只能分辨16种颜色,这些颜色之间的中间色 也可使用。下面是 NetLogo 颜色空间的一张图:
    <p class="screenshot">
      <img alt="[color chart]" src="images/colors.jpg">
    <p>
      为得到一个没有名字的颜色,你需要使用一个数值,或者在颜色名上加上或减去一个数。 例如,输入<tt>set color red</tt>与输入<tt>set color 15</tt>效果完全一样。要得到一个更浅或更深的颜 色,只需使用一个比该颜色更小或更大的一个数。如下所示:
    <!--How would you
communicate that you would like all the patches a light pale pink
color.  It would be very difficult for NetLogo to filter through and
decipher what light and pale mean in reference to pink.
What would be
a good way to communicate that all patches turn a pale pink.  Hint: If
pink is equal to the value of 135, then what would be the value of a
pale pink color?

<h2 style='margin-left:1.0in'>++++What would you set your patch color at to get
a pale pink color?</h2>
-->
    <blockquote>
      <ul>
        <li>在命令中心的弹出菜单选 "patches" (或使用 tab 键).
        <li>输入<tt>set pcolor red - 2</tt> (
        &quot;-&quot; 两侧的空格很重要。)
        </ul>
      <p>
        通过在 red 上减去一个数, 得到更深的颜色。
      <ul>
        <li>Type <tt>set pcolor red + 2</tt>
        </ul>
      <p>
     通过在 red 上加上一个数, 得到更浅的颜色。
      </blockquote>
      <!--<p>The charts above contains 14 different colors each
correlating with a number.  There are variations or shades of each of those
colors that are not listed in the chart.  Take a color like blue and experience
the color variations by increasing it's color number by one. 

<p>&nbsp;

<p style='margin-left:1.0in;text-indent:-.25in;tab-stops:list 58.5pt'>
****Example, &amp;&amp;&amp;&amp;P&gt;
set pcolor 105

<p style='margin-left:1.0in;text-indent:-.25in;tab-stops:list 58.5pt'>
****
&amp;&amp;&amp;&amp;P&gt;set pcolor 106

<p style='margin-left:1.0in;text-indent:-.25in;tab-stops:list 58.5pt'>
****
&amp;&amp;&amp;&amp;P&gt;set pcolor 107

<p style='margin-left:1.0in;text-indent:-.25in;tab-stops:list 58.5pt'>
****
&amp;&amp;&amp;&amp;P&gt;set pcolor 108 and so forth.

-->
    <p>
      图上任何颜色均可采用这种方法。
      <!--
And for more interesting and creative things you can do with
colors, see the section on color in the <A HREF="programming.html">Programming Guide</A>.
-->
       <!--

<blockquote>
<p><B>Challenge:</B>

<p>Before starting this challenge, press "clear" and "clear history"
in the Command Center and press the "setup" button.

<p class="question">Can you alter the Traffic Basic model to have an
all green background and all black cars?

<p>Use the picture below as a reference.

<p class=MsoBodyText3 align=center style='text-align:center'><img alt="screen shot" 
  src="images/tutorial2/image007.gif">

<p class=MsoBodyText3 align=center style='text-align:center'>&nbsp;

<p class=MsoBodyText3 style='text-align:justify'>You
will notice that by changing all the cars to black we have lost our red
"marker" car.  If you recall, this car has a monitor on the screen that shows
its speed to you.  

<p class=MsoBodyText3 style='text-align:justify'>&nbsp;

<p class=MsoBodyText3 style='margin-left:1.0in;text-align:justify;text-indent:
-.25in;tab-stops:list 1.0in'>
****Press "drive"

<p class=MsoBodyText3 style='text-align:justify'>&nbsp;

<p class=MsoBodyText3 style='text-align:justify'>The
monitor is still displaying the red car's speed even though the car is not
present. Or is it?

<p class=MsoBodyText3 style='text-align:justify'>&nbsp;

<p class=MsoBodyText3 style='margin-left:1.0in;text-align:justify'><i>++++Is the red car still present in the Traffic
Basic model?</i>

<p class=MsoBodyText3 style='text-align:justify'>&nbsp;

-->
    <h2>
      主体监视器(Agent Monitors)和主体命令器(Agent Commanders)
    </h2>
    <p>
     上面我们使用<tt>set</tt>命令改变所有车辆的颜色。你是否记得,最初的模型中一群蓝车里有一辆红车。现在看看怎样只改变一辆车的颜色。
    <blockquote>
      <ul>
        <li>按下 "setup" 让红车再次出现。
        <li>如果使用 Macintosh,按下 Ctrl 在红车上单击。其他操作系统的话,在红车上右击。
        <li>如果有别的海龟与红车太近,你可能看到在菜单底部列出多个海龟。将鼠标移动到
海龟菜单项上,注意到菜单和视图中海龟都加亮了。在红色海龟项的子菜单中选
"inspect turtle"。
        </ul>
      <p>
       关于那辆车的一个海龟监视器出现了:
      <p class="screenshot">
        <img alt="screen shot" src="images/tutorial2/image009.gif">
      </blockquote>
    <p>
      仔细看看海龟监视器,可以看到属于红车的所有变量。变量是存储数值的,可以改变。 还记得我们说过颜色在计算机里都是用数字表示的吗?对主体也一样。例如,每个主体都有 一个 ID 号,叫做"who number"。
  
    <p>
    再看看海龟监视器：
    <blockquote>
      <p class="question">
        海龟的 who number 是多少?
      <p class="question">
        海龟颜色是什么?
      <p class="question">
        海龟形状是什么?
      </blockquote>
    <p>
      这个监视器显示该海龟的 who number 是 0,颜色 15(红色),形状是“ car”。
    <p>
      除了右击(mac 上是Ctrl+单击)外,还有两个方法打开海龟监视器。方法 1 是从Tools
菜单选择"Turtle Monitor",然后在“who”域中输入要查看的海龟的ID,回车。另一种方 法是在命令中心输入<tt>inspect turtle 0</tt>(或其他ID)。 
    <p>
      要关闭海龟监视器,只需在窗口左上角关闭标志( Mac)或右上角关闭标志(其 他操作系统)上单击。
    <p>
     现在了解了主体监视器,有三种方式改变一个海龟的颜色。
    <p>
     第一种是使用主体监视器底部的主体命令器(Agent Commander)。在这输入命令,就像在命令中心一样,只是在这输入的命令只由这个海龟执行。
    <blockquote>
      <ul>
        <li>在海龟 0 主体监视器中的主体命令器 中输入
        <tt>set color pink</tt>。
        </ul>
      <p class="question">
        视图发生什么变化?
      <p class="question">
        海龟监视器有什么变化吗?
      </blockquote>
    <p>
      第二种是直接改变海龟监视器中的 color 变量
    <blockquote>
      <ul>
        <li>在海龟监视器中选择 "color" 右侧的文本。
        <li>输入新颜色,如 <tt>green + 2</tt>。
        </ul>
      <p class="question">
       发生什么?
      </blockquote>
    <p>
      第三种是使用观察者(observer)改变海龟或瓦片的颜色。因为 observer 俯视着 NetLogo 世界,它可以发出命令,影响单个或一组海龟。
    <blockquote>
      <ul>
        <li>在命令中心的弹出菜单,选择 "observer" (或使用 tab 键)。
        <li>输入<tt>ask turtle 0 [set color blue]</tt> 回车。
        </ul>
      <p class="question">
        发生什么?
      </blockquote>
    <blockquote>
      <p>
        除了海龟监视器(Turtle Monitors),也有瓦片监视器(Patch Monitors)。 瓦片监 视器与海龟监视器很相似。
      <p class="question">
        你能使用瓦片监视器改变单个瓦片的颜色吗?
      </blockquote>
    <p>
      如果你让观察者(observer )请求瓦片 0 改变颜色(<tt>ask patch 0 [set pcolor
      blue]</tt>),会出现一条错误信息：
    <p class="screenshot">
      <img alt="screen shot" src="images/tutorial2/image010.gif">
    <p>
      要让某个海龟做什么,我们使用 who number。但瓦片没有 who number,需要其他方法。
    <p>
      记住,瓦片存在于一个坐标系统中。要在图上画个点需要两个数:x 坐标和 y 坐标。瓦片的定位方式与此相同。
    <blockquote>
      <ul>
        <li>发生什么?
        </ul>
      <p class="screenshot">
        <img alt="screen shot" src="images/tutorial2/image011.gif">
      <p>
        监视器表明这个瓦片的 <a href=
        "dictionary.html#pxcor"><tt>pxcor</tt></a> 变量是-19 <a href="dictionary.html#pycor"><tt>pycor</tt></a> 是 0。在坐标平面上,这个点处于
左下象限。
       
      <p>
        使用坐标让这个特定的瓦片改变颜色：
      <ul>
        <li>在瓦片监视器的底部,输入set pcolor blue,回车。
        </ul>
      <p>
        在海龟或瓦片的监视器中输入命令只对这个海龟或瓦片管用。
      <p>
        在命令中心也可操作单个瓦片:
      <ul>
        <li>在命令中心输入<tt>ask patch -19 0 [set pcolor
        green]</tt> ,回车and press return.
        </ul>
    </blockquote><!--

<h3>!!!!!Challenge</h3>

<p><b>!!!!Using the Traffic Basic model, alter the background
to be green with a white street, black cars while still keeping the red "pace"
car. Use the picture below as a reference.</b>

<p><b>&nbsp;</b>

<p align=center style='text-align:center'><b><img alt="screen shot" 
  src="images/tutorial2/image012.gif"></b>

<p align=center style='text-align:center'><b>&nbsp;</b>

<p class=MsoBodyText3>There are many ways you
can go about solving this challenge, some of them are a little laborious then
others.  In the next section, we will look at procedures that and commands,
that simplify this activity. 

<p>&nbsp;

-->
    <!--
<h2>Changing Shapes</h2>

<p>Another part of customizing models is altering or changing the
shapes of the turtles.  The commands for changing shapes are very
similar to those for changing colors.

<p>amp;&amp;&amp;&amp;T&gt;set shape "default"

<p>&nbsp;

<h4 style='margin-left:1.0in'>++++Try changing the patches to the "default"
shape.</h4>

<p>&nbsp;

<p>If you tried &amp;&amp;&amp;&amp;P&gt;set shape "default", an error message was probably
expressed like the one below.  This is because patches have only one
shape-square.  The shape primitive is only for turtles.  

<p align=center style='text-align:center'><img alt="screen shot" 
  src="images/tutorial2/image013.gif">

<p align=center style='text-align:center'>&nbsp;

<p style='margin-left:1.0in'><i>++++How would you change a
shape of a turtle using the observer?</i>

<p align=center style='margin-left:1.0in;text-align:center'><i>&nbsp;</i>

<p style='margin-left:1.0in'><i>++++How do you know which
shapes are usable within each model? </i>

<p>&nbsp;

<p>
****Open "Shapes Editor" , found under "Tools" in the menu bar.

<p>&nbsp;

<p>The Shapes Editor is a feature that can change the shape of
the turtles, edit or alter existing shapes or import a shape from a
previous model.  When you open the Traffic Basic model's Shapes Editor you will
see three shapes displayed: the default shape, a car and truck-right.  In order
to change the shape within the model, you have to write a command within the
Command Center that sets the shape primitive to one of the three shapes found
in the shape editor.  Just highlighting one of the shapes in the Shapes Editor
does not change the shape.

<p>&nbsp;

<p align=center style='text-align:center'><img alt="screen shot" 
  src="images/tutorial2/image014.gif">

<p>&nbsp;

<p>If there is a shape that is not displayed here that you
want, you can do one of two things.  You can either create your own shape
within the edit function of this window; or you can import a pre-existing shape
from another model.  For more information on creating and designing shapes see
the %%%%Shapes Editor in the Advanced Features Section of the manual. 

<p>&nbsp;

<p>To import a shape into the Traffic Basic model:

<p>&nbsp;

<p>
****Select "import" in the Shapes Editor window.

<p>
****A new window will open and select the "models" folder.

<p>
****Go to "Sample Models" and open the "Sheep Wolf
Predation.nlogo" model in the "Biology" folder.

<p>&nbsp;

<p align=center style='text-align:center'><img alt="screen shot" 
  src="images/tutorial2/image015.gif">

<p align=center style='text-align:center'>&nbsp;

<p>
****Pick one of these shapes and press "import".

<p>&nbsp;

<p>You will notice the new shape will appear in Shapes Editor
window for the Traffic Basic model.  It may be used in the Command Center in
the same manor as "truck-right".  Make sure to save when prompted to ensure
that the new shape will be available for that model.

<p>&nbsp;

<p>When creating new models, there is a wider selection of
shapes to chose from within the Shapes Editor.  The newer models will contain
all of these shapes, while older models tend to be sparse.  If you are looking
to see all of the shapes already stored in the Shapes Editor, open a new model
under file and then open the Shapes Editor.

<p><b>&nbsp;</b>

-->
    <!--

<h3>!!!!Ultimate Challenge</h3>

<p>&nbsp;

<p class=MsoBodyText3>!!!!Using the Traffic Basic model, change the background
to "green" grass, include a white one lane street down the middle of the
View.  On this street include four houses each with their own street
light; two on one side of the street and two on the other side of the street. 
The traffic flow can contain a mixture of black cars and trucks making sure to
keep the "red" pace car.  If you would like to add a person you may do so.

-->
    <h2>
      下一步
    </h2>
    <p>
     此时也许你想打开模型库的其他模型,试试刚学的这些技术。
    <p>在<a href="tutorial3.html">教程l #3: 例程</a> 你将学习怎样替换、修改已有模型,或构建自己的模型。



</body>
</html>
